<!--
  Generated template for the ContactUpdatePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar color="navbar" text-center>
    <ion-title>
      Update Contact
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content>

  <ion-grid no-padding style="margin-top: 45%;">

    <ion-row *ngIf="!isContactSubmitted">
      <ion-col col-12 padding text-center style="font-style: italic">
        Enter the updated contact number to receive OTP
      </ion-col>
    </ion-row>

    <ion-row *ngIf="isContactSubmitted">
      <ion-col col-12 padding text-center style="font-style: italic">
        Enter the OTP received on mentioned contact number
      </ion-col>
    </ion-row>

    <form [formGroup]="contactUpdateFormGroup">

      <ion-row>

        <ion-col col-12>
          <ion-item>
            <ion-label floating class="pj-floating-label">Contact Number*</ion-label>
            <ion-input type="number" [disabled]="isContactSubmitted" formControlName="contactNumber"></ion-input>
          </ion-item>
        </ion-col>

      </ion-row>

      <ion-row *ngIf="isContactSubmitted">

        <ion-col col-12>
          <ion-item>
            <ion-label floating class="pj-floating-label">OTP*</ion-label>
            <ion-input type="number" formControlName="otp"></ion-input>
          </ion-item>
        </ion-col>

      </ion-row>

      <ion-row *ngIf="!isContactSubmitted">
        <ion-col col-6>
          <button ion-button class="pj-button-danger" type="button" (click)="dismissModal()">CANCEL</button>
        </ion-col>
        <ion-col col-6>
          <button ion-button class="pj-button" type="button" (click)="updateContactAndSendOtp()">SEND OTP</button>
        </ion-col>
      </ion-row>

      <ion-row *ngIf="isContactSubmitted">
        <ion-col col-6>
          <button ion-button class="pj-button-danger" type="button" (click)="dismissModal()">CANCEL</button>
        </ion-col>
        <ion-col col-6>
          <button ion-button class="pj-button" type="button" [disabled]="!contactUpdateFormGroup.valid" (click)="updateContact()">SUBMIT</button>
        </ion-col>
      </ion-row>

    </form>

  </ion-grid>

</ion-content>