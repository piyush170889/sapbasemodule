webpackJsonp([2],{

/***/ 855:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VisitAddSitePageModule", function() { return VisitAddSitePageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(49);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__visit_add_site__ = __webpack_require__(922);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ionic_selectable__ = __webpack_require__(870);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var VisitAddSitePageModule = /** @class */ (function () {
    function VisitAddSitePageModule() {
    }
    VisitAddSitePageModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__visit_add_site__["a" /* VisitAddSitePage */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_3_ionic_selectable__["a" /* IonicSelectableModule */],
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* IonicPageModule */].forChild(__WEBPACK_IMPORTED_MODULE_2__visit_add_site__["a" /* VisitAddSitePage */]),
            ],
        })
    ], VisitAddSitePageModule);
    return VisitAddSitePageModule;
}());

//# sourceMappingURL=visit-add-site.module.js.map

/***/ }),

/***/ 870:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export IonicSelectableAddItemTemplateDirective */
/* unused harmony export IonicSelectableCloseButtonTemplateDirective */
/* unused harmony export IonicSelectableFooterTemplateDirective */
/* unused harmony export IonicSelectableGroupEndTemplateDirective */
/* unused harmony export IonicSelectableGroupTemplateDirective */
/* unused harmony export IonicSelectableHeaderTemplateDirective */
/* unused harmony export IonicSelectableItemEndTemplateDirective */
/* unused harmony export IonicSelectableItemIconTemplateDirective */
/* unused harmony export IonicSelectableItemTemplateDirective */
/* unused harmony export IonicSelectableMessageTemplateDirective */
/* unused harmony export IonicSelectableModalComponent */
/* unused harmony export IonicSelectablePlaceholderTemplateDirective */
/* unused harmony export IonicSelectableSearchFailTemplateDirective */
/* unused harmony export IonicSelectableTitleTemplateDirective */
/* unused harmony export IonicSelectableValueTemplateDirective */
/* unused harmony export IonicSelectableComponent */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return IonicSelectableModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(39);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__(27);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ionic_angular__ = __webpack_require__(49);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs__ = __webpack_require__(66);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_common__ = __webpack_require__(45);
var IonicSelectableAddItemTemplateDirective=function(){return function(){}}();IonicSelectableAddItemTemplateDirective.decorators=[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Directive"],args:[{selector:"[ionicSelectableAddItemTemplate]"}]}],IonicSelectableAddItemTemplateDirective.ctorParameters=function(){return[]};var IonicSelectableCloseButtonTemplateDirective=function(){return function(){}}();IonicSelectableCloseButtonTemplateDirective.decorators=[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Directive"],args:[{selector:"[ionicSelectableCloseButtonTemplate]"}]}],IonicSelectableCloseButtonTemplateDirective.ctorParameters=function(){return[]};var IonicSelectableFooterTemplateDirective=function(){return function(){}}();IonicSelectableFooterTemplateDirective.decorators=[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Directive"],args:[{selector:"[ionicSelectableFooterTemplate]"}]}],IonicSelectableFooterTemplateDirective.ctorParameters=function(){return[]};var IonicSelectableGroupEndTemplateDirective=function(){return function(){}}();IonicSelectableGroupEndTemplateDirective.decorators=[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Directive"],args:[{selector:"[ionicSelectableGroupEndTemplate]"}]}],IonicSelectableGroupEndTemplateDirective.ctorParameters=function(){return[]};var IonicSelectableGroupTemplateDirective=function(){return function(){}}();IonicSelectableGroupTemplateDirective.decorators=[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Directive"],args:[{selector:"[ionicSelectableGroupTemplate]"}]}],IonicSelectableGroupTemplateDirective.ctorParameters=function(){return[]};var IonicSelectableHeaderTemplateDirective=function(){return function(){}}();IonicSelectableHeaderTemplateDirective.decorators=[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Directive"],args:[{selector:"[ionicSelectableHeaderTemplate]"}]}],IonicSelectableHeaderTemplateDirective.ctorParameters=function(){return[]};var IonicSelectableItemEndTemplateDirective=function(){return function(){}}();IonicSelectableItemEndTemplateDirective.decorators=[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Directive"],args:[{selector:"[ionicSelectableItemEndTemplate]"}]}],IonicSelectableItemEndTemplateDirective.ctorParameters=function(){return[]};var IonicSelectableItemIconTemplateDirective=function(){return function(){}}();IonicSelectableItemIconTemplateDirective.decorators=[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Directive"],args:[{selector:"[ionicSelectableItemIconTemplate]"}]}],IonicSelectableItemIconTemplateDirective.ctorParameters=function(){return[]};var IonicSelectableItemTemplateDirective=function(){return function(){}}();IonicSelectableItemTemplateDirective.decorators=[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Directive"],args:[{selector:"[ionicSelectableItemTemplate]"}]}],IonicSelectableItemTemplateDirective.ctorParameters=function(){return[]};var IonicSelectableMessageTemplateDirective=function(){return function(){}}();IonicSelectableMessageTemplateDirective.decorators=[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Directive"],args:[{selector:"[ionicSelectableMessageTemplate]"}]}],IonicSelectableMessageTemplateDirective.ctorParameters=function(){return[]};var IonicSelectablePlaceholderTemplateDirective=function(){return function(){}}();IonicSelectablePlaceholderTemplateDirective.decorators=[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Directive"],args:[{selector:"[ionicSelectablePlaceholderTemplate]"}]}],IonicSelectablePlaceholderTemplateDirective.ctorParameters=function(){return[]};var IonicSelectableSearchFailTemplateDirective=function(){return function(){}}();IonicSelectableSearchFailTemplateDirective.decorators=[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Directive"],args:[{selector:"[ionicSelectableSearchFailTemplate]"}]}],IonicSelectableSearchFailTemplateDirective.ctorParameters=function(){return[]};var IonicSelectableTitleTemplateDirective=function(){return function(){}}();IonicSelectableTitleTemplateDirective.decorators=[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Directive"],args:[{selector:"[ionicSelectableTitleTemplate]"}]}],IonicSelectableTitleTemplateDirective.ctorParameters=function(){return[]};var IonicSelectableValueTemplateDirective=function(){return function(){}}();IonicSelectableValueTemplateDirective.decorators=[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Directive"],args:[{selector:"[ionicSelectableValueTemplate]"}]}],IonicSelectableValueTemplateDirective.ctorParameters=function(){return[]};var IonicSelectableComponent=function(){function e(e,t,n,i,o,l){this._modalController=e,this.ionForm=t,this._platform=n,this.ionItem=i,this._iterableDiffers=o,this.element=l,this._cssClass=!0,this._isOnSearchEnabled=!0,this._isEnabled=!0,this._shouldBackdropClose=!0,this._isOpened=!1,this._value=null,this._canClear=!1,this._hasConfirmButton=!1,this._isMultiple=!1,this._canAddItem=!1,this.onItemsChange=new __WEBPACK_IMPORTED_MODULE_1__angular_core__["EventEmitter"],this._label=null,this._valueItems=[],this._searchText="",this._hasSearchText=!1,this._groups=[],this._itemsToConfirm=[],this._selectedItems=[],this._filteredGroups=[],this._isAddItemTemplateVisible=!1,this._isFooterVisible=!0,this._itemToAdd=null,this._footerButtonsCount=0,this._hasFilteredItems=!1,this.items=[],this.itemsChange=new __WEBPACK_IMPORTED_MODULE_1__angular_core__["EventEmitter"],this.modalCssClass=null,this.modalEnterAnimation=null,this.modalLeaveAnimation=null,this.isConfirmButtonEnabled=!0,this.itemValueField=null,this.itemTextField=null,this.groupValueField=null,this.groupTextField=null,this.canSearch=!1,this.hasInfiniteScroll=!1,this.hasVirtualScroll=!1,this.virtualScrollApproxItemHeight="40px",this.virtualScrollApproxItemWidth="100%",this.virtualScrollBufferRatio=3,this.virtualScrollHeaderFn=function(){return null},this.searchPlaceholder="Search",this.placeholder=null,this.searchFailText="No items found.",this.clearButtonText="Clear",this.addButtonText="Add",this.confirmButtonText="OK",this.closeButtonText="Cancel",this.focusSearchbar=!1,this.headerColor=null,this.groupColor=null,this.onChange=new __WEBPACK_IMPORTED_MODULE_1__angular_core__["EventEmitter"],this.onSearch=new __WEBPACK_IMPORTED_MODULE_1__angular_core__["EventEmitter"],this.onSearchFail=new __WEBPACK_IMPORTED_MODULE_1__angular_core__["EventEmitter"],this.onSearchSuccess=new __WEBPACK_IMPORTED_MODULE_1__angular_core__["EventEmitter"],this.onInfiniteScroll=new __WEBPACK_IMPORTED_MODULE_1__angular_core__["EventEmitter"],this.onOpen=new __WEBPACK_IMPORTED_MODULE_1__angular_core__["EventEmitter"],this.onClose=new __WEBPACK_IMPORTED_MODULE_1__angular_core__["EventEmitter"],this.onSelect=new __WEBPACK_IMPORTED_MODULE_1__angular_core__["EventEmitter"],this.onClear=new __WEBPACK_IMPORTED_MODULE_1__angular_core__["EventEmitter"],this.searchDebounce=250,this.disabledItems=[],this.shouldStoreItemValue=!1,this.canSaveItem=!1,this.canDeleteItem=!1,this.onSaveItem=new __WEBPACK_IMPORTED_MODULE_1__angular_core__["EventEmitter"],this.onDeleteItem=new __WEBPACK_IMPORTED_MODULE_1__angular_core__["EventEmitter"],this.onAddItem=new __WEBPACK_IMPORTED_MODULE_1__angular_core__["EventEmitter"],this.propagateOnChange=function(e){},this.propagateOnTouched=function(){},this.items&&this.items.length||(this.items=[]),this._itemsDiffer=this._iterableDiffers.find(this.items).create()}return Object.defineProperty(e.prototype,"_isMultipleCssClass",{get:function(){return this.isMultiple},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_hasValueCssClass",{get:function(){return this.hasValue()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_hasPlaceholderCssClass",{get:function(){return this._hasPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_shouldStoreItemValue",{get:function(){return this.shouldStoreItemValue&&this._hasObjects},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"searchText",{get:function(){return this._searchText},set:function(e){this._searchText=e,this._setHasSearchText()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSearching",{get:function(){return this._isSearching},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasSearchText",{get:function(){return this._hasSearchText},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e,this._valueItems.splice(0,this._valueItems.length),this.isMultiple?e&&e.length&&Array.prototype.push.apply(this._valueItems,e):this._isNullOrWhiteSpace(e)||this._valueItems.push(e),this._setIonItemHasValue(),this._setHasPlaceholder()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this._isEnabled},set:function(e){this._isEnabled=!!e,this.enableIonItem(this._isEnabled)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shouldBackdropClose",{get:function(){return this._shouldBackdropClose},set:function(e){this._shouldBackdropClose=!!e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOpened",{get:function(){return this._isOpened},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasConfirmButton",{get:function(){return this._hasConfirmButton},set:function(e){this._hasConfirmButton=!!e,this._countFooterButtons()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOnSearchEnabled",{get:function(){return this._isOnSearchEnabled},set:function(e){this._isOnSearchEnabled=!!e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canClear",{get:function(){return this._canClear},set:function(e){this._canClear=!!e,this._countFooterButtons()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMultiple",{get:function(){return this._isMultiple},set:function(e){this._isMultiple=!!e,this._countFooterButtons()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemsToConfirm",{get:function(){return this._itemsToConfirm},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canAddItem",{get:function(){return this._canAddItem},set:function(e){this._canAddItem=!!e,this._countFooterButtons()},enumerable:!0,configurable:!0}),e.prototype.initFocus=function(){},e.prototype.enableIonItem=function(e){this.ionItem&&this.ionItem.setElementClass("item-input-disabled",!e)},e.prototype._click=function(e){var t=this;this.isEnabled&&0!==e.detail&&(this._label=this._getLabelText(),e.preventDefault(),e.stopPropagation(),this.open().then(function(){t.onOpen.emit({component:t})}))},e.prototype._isNullOrWhiteSpace=function(e){return null==e||e.toString().replace(/\s/g,"").length<1},e.prototype._setHasSearchText=function(){this._hasSearchText=!this._isNullOrWhiteSpace(this._searchText)},e.prototype._hasOnSearch=function(){return this.isOnSearchEnabled&&this.onSearch.observers.length>0},e.prototype._hasOnSaveItem=function(){return this.canSaveItem&&this.onSaveItem.observers.length>0},e.prototype._hasOnAddItem=function(){return this.canAddItem&&this.onAddItem.observers.length>0},e.prototype._hasOnDeleteItem=function(){return this.canDeleteItem&&this.onDeleteItem.observers.length>0},e.prototype._emitValueChange=function(){this.propagateOnChange(this.value),this._setIonItemValidityClasses(),this.onChange.emit({component:this,value:this.value})},e.prototype._emitSearch=function(){this.canSearch&&this.onSearch.emit({component:this,text:this._searchText})},e.prototype._emitOnSelect=function(e,t){this.onSelect.emit({component:this,item:e,isSelected:t})},e.prototype._emitOnClear=function(e){this.onClear.emit({component:this,items:e})},e.prototype._emitOnSearchSuccessOrFail=function(e){var t={component:this,text:this._searchText};e?this.onSearchSuccess.emit(t):this.onSearchFail.emit(t)},e.prototype._formatItem=function(e){return this._isNullOrWhiteSpace(e)?null:this.itemTextField?e[this.itemTextField]:e.toString()},e.prototype._getItemValue=function(e){return this._hasObjects?e[this.itemValueField]:e},e.prototype._getStoredItemValue=function(e){return this._hasObjects?this._shouldStoreItemValue?e:e[this.itemValueField]:e},e.prototype._filterItems=function(){var e=this;if(this._setHasSearchText(),this._hasOnSearch())this._emitSearch();else{var t=[];if(this._searchText&&this._searchText.trim()){var n=this._searchText.trim().toLowerCase();this._groups.forEach(function(i){var o=i.items.filter(function(t){return-1!==(e.itemTextField?t[e.itemTextField]:t).toString().toLowerCase().indexOf(n)});o.length&&t.push({value:i.value,text:i.text,items:o})}),t.length||t.push({items:[]})}else t=this._groups;this._filteredGroups=t,this._hasFilteredItems=!this._areGroupsEmpty(t),this._emitOnSearchSuccessOrFail(this._hasFilteredItems)}},e.prototype._isItemDisabled=function(e){var t=this;if(this.disabledItems)return this.disabledItems.some(function(n){return t._getItemValue(n)===t._getItemValue(e)})},e.prototype._isItemSelected=function(e){var t=this;return void 0!==this._selectedItems.find(function(n){return t._getItemValue(e)===t._getStoredItemValue(n)})},e.prototype._addSelectedItem=function(e){this._shouldStoreItemValue?this._selectedItems.push(this._getItemValue(e)):this._selectedItems.push(e)},e.prototype._deleteSelectedItem=function(e){var t,n=this;this._selectedItems.forEach(function(i,o){n._getItemValue(e)===n._getStoredItemValue(i)&&(t=o)}),this._selectedItems.splice(t,1)},e.prototype._saveItem=function(e,t){e.stopPropagation(),this._itemToAdd=t,this._hasOnSaveItem()?this.onSaveItem.emit({component:this,item:this._itemToAdd}):this.showAddItemTemplate()},e.prototype._deleteItemClick=function(e,t){e.stopPropagation(),this._itemToAdd=t,this._hasOnDeleteItem()?this.onDeleteItem.emit({component:this,item:this._itemToAdd}):this.deleteItem(this._itemToAdd)},e.prototype._addItemClick=function(){this._itemToAdd=null,this._hasOnAddItem()?this.onAddItem.emit({component:this}):this.showAddItemTemplate()},e.prototype._close=function(){var e=this;this._modalComponent._searchbarComponent&&this._modalComponent._searchbarComponent._fireBlur(),setTimeout(function(){e.close().then(function(){e.onClose.emit({component:e})}),e._hasOnSearch()||(e._searchText="",e._setHasSearchText())})},e.prototype._clear=function(){var e=this,t=this._selectedItems;this.clear(),this._emitValueChange(),this._emitOnClear(t),this.close().then(function(){e.onClose.emit({component:e})})},e.prototype._getMoreItems=function(e){this._infiniteScroll=e,this.onInfiniteScroll.emit({component:this,text:this._searchText})},e.prototype._setItemsToConfirm=function(e){this._itemsToConfirm=[].concat(e)},e.prototype._doSelect=function(e){this.value=e,this._emitValueChange()},e.prototype._select=function(e){var t=this._isItemSelected(e);this.isMultiple?(t?this._deleteSelectedItem(e):this._addSelectedItem(e),this._setItemsToConfirm(this._selectedItems),this._emitOnSelect(e,!t)):this.hasConfirmButton||this.footerTemplate?(this._selectedItems=[],t?this._deleteSelectedItem(e):this._addSelectedItem(e),this._setItemsToConfirm(this._selectedItems),this._emitOnSelect(e,!t)):(t||(this._selectedItems=[],this._addSelectedItem(e),this._emitOnSelect(e,!0),this._shouldStoreItemValue?this._doSelect(this._getItemValue(e)):this._doSelect(e)),this._close())},e.prototype._confirm=function(){this.confirm(),this._close()},e.prototype._getLabelText=function(){var e=this.ionItem?this.ionItem.getNativeElement().querySelector("ion-label"):null;return e?e.textContent:null},e.prototype._areGroupsEmpty=function(e){return 0===e.length||e.every(function(e){return!e.items||0===e.items.length})},e.prototype._countFooterButtons=function(){var e=0;this.canClear&&e++,(this.isMultiple||this._hasConfirmButton)&&e++,this.canAddItem&&e++,this._footerButtonsCount=e},e.prototype._setItems=function(e){var t=this,n=[{items:e||[]}];e&&e.length&&this._hasGroups&&(n=[],e.forEach(function(e){var i=t._getPropertyValue(e,t.groupValueField),o=n.find(function(e){return e.value===i});o?o.items.push(e):n.push({value:i,text:t._getPropertyValue(e,t.groupTextField),items:[e]})})),this._groups=n,this._filteredGroups=this._groups,this._hasFilteredItems=!this._areGroupsEmpty(this._filteredGroups)},e.prototype._formatValueItem=function(e){var t=this;if(this._shouldStoreItemValue){var n=this.items.find(function(n){return n[t.itemValueField]===e});return this._formatItem(n)}return this._formatItem(e)},e.prototype._getPropertyValue=function(e,t){return t?t.split(".").reduce(function(e,t){return e?e[t]:null},e):null},e.prototype._setIonItemHasFocus=function(e){this.ionItem&&this.ionItem.setElementClass("item-input-has-focus",e)},e.prototype._setIonItemHasValue=function(){this.ionItem&&this.ionItem.setElementClass("item-input-has-value",this.hasValue())},e.prototype._setHasPlaceholder=function(){this._hasPlaceholder=!(this.hasValue()||this._isNullOrWhiteSpace(this.placeholder)&&!this.placeholderTemplate)},e.prototype._setIonItemValidityClasses=function(){var e=this;this.ionItem&&requestAnimationFrame(function(){var t=e.element.nativeElement.classList;e.ionItem.setElementClass("ng-invalid",!1),e.ionItem.setElementClass("ng-valid",!1),e.ionItem.setElementClass("ng-touched",!1),e.ionItem.setElementClass("ng-untouched",!1),e.ionItem.setElementClass("ng-dirty",!1),e.ionItem.setElementClass("ng-pristine",!1),t.forEach(function(t){"ng-invalid"===t&&e.ionItem.setElementClass("ng-invalid",!0),"ng-valid"===t&&e.ionItem.setElementClass("ng-valid",!0),"ng-touched"===t&&e.ionItem.setElementClass("ng-touched",!0),"ng-untouched"===t&&e.ionItem.setElementClass("ng-untouched",!0),"ng-dirty"===t&&e.ionItem.setElementClass("ng-dirty",!0),"ng-pristine"===t&&e.ionItem.setElementClass("ng-pristine",!0)})})},e.prototype._toggleAddItemTemplate=function(e){this.addItemTemplate&&(this._isAddItemTemplateVisible=e,this._isFooterVisible=!e)},e.prototype.writeValue=function(e){this.value=e,this._setIonItemValidityClasses()},e.prototype.registerOnChange=function(e){this.propagateOnChange=e},e.prototype.registerOnTouched=function(e){this.propagateOnTouched=e},e.prototype.setDisabledState=function(e){this.isEnabled=!e},e.prototype.ngOnInit=function(){this._isIos=this._platform.is("ios"),this._isMD=!this._isIos,this._hasObjects=!this._isNullOrWhiteSpace(this.itemValueField),this._hasGroups=Boolean(this._hasObjects&&this.groupValueField&&!this.hasVirtualScroll),this.ionForm.register(this),this.ionItem&&(this.ionItem.setElementClass("item-input",!0),this.ionItem.setElementClass("item-ionic-selectable",!0)),this.enableIonItem(this.isEnabled)},e.prototype.ngOnDestroy=function(){this.ionForm.deregister(this)},e.prototype.ngDoCheck=function(){this._itemsDiffer.diff(this.items)&&(this._setItems(this.items),this.value=this.value,this.onItemsChange.emit({component:this}))},e.prototype.addItem=function(e){var t=this;return this.items.unshift(e),this._addItemObservable&&this._addItemObservable.unsubscribe(),new Promise(function(e,n){t._addItemObservable=t.onItemsChange.asObservable().subscribe(function(){t._addItemObservable.unsubscribe(),e()},function(){t._addItemObservable.unsubscribe(),n()})})},e.prototype.deleteItem=function(e){var t=this,n=this,i=!1;if(this._selectedItems&&(this._selectedItems=this._selectedItems.filter(function(n){return t._getItemValue(e)!==t._getStoredItemValue(n)})),this.value)if(this.isMultiple){var o=this.value.filter(function(t){return t.id!==e.id});o.length!==this.value.length&&(this.value=o,i=!0)}else e===this.value&&(this.value=null,i=!0);i&&this._emitValueChange();var l=this.items.filter(function(t){return t.id!==e.id});return this.itemsChange.emit(l),this._setItems(l),this.onItemsChange.emit({component:this}),this._deleteItemObservable&&this._deleteItemObservable.unsubscribe(),new Promise(function(e,t){n._deleteItemObservable=n.onItemsChange.asObservable().subscribe(function(){n._deleteItemObservable.unsubscribe(),e()},function(){n._deleteItemObservable.unsubscribe(),t()})})},e.prototype.hasValue=function(){return this.isMultiple?0!==this._valueItems.length:0!==this._valueItems.length&&!this._isNullOrWhiteSpace(this._valueItems[0])},e.prototype.open=function(){var e=this;return new Promise(function(t,n){if(e._isEnabled&&!e._isOpened){e._filterItems(),e._isOpened=!0;var i={enableBackdropDismiss:e._shouldBackdropClose};e.modalCssClass&&(i.cssClass=e.modalCssClass),e.modalEnterAnimation&&(i.enterAnimation=e.modalEnterAnimation),e.modalLeaveAnimation&&(i.leaveAnimation=e.modalLeaveAnimation),e._modal=e._modalController.create(IonicSelectableModalComponent,{selectComponent:e},i),e._modal.present().then(function(){e._setIonItemHasFocus(!0),t()}),e._modal.onWillDismiss(function(){e._setIonItemHasFocus(!1)}),e._modal.onDidDismiss(function(t,n){e._isOpened=!1,e._itemsToConfirm=[],"backdrop"===n&&e.onClose.emit({component:e})})}else n("IonicSelectable is disabled or already opened.")})},e.prototype.close=function(){var e=this;return new Promise(function(t,n){e._isEnabled&&e._isOpened?(e.propagateOnTouched(),e._setIonItemValidityClasses(),e._infiniteScroll=null,e._isOpened=!1,e._itemToAdd=null,e._modal.dismiss().then(function(){e._setIonItemHasFocus(!1),e.hideAddItemTemplate(),t()})):n("IonicSelectable is disabled or already closed.")})},e.prototype.clear=function(){this.value=this.isMultiple?[]:null,this._itemsToConfirm=[],this.propagateOnChange(this.value),this._setIonItemValidityClasses()},e.prototype.confirm=function(){this.isMultiple?this._doSelect(this._selectedItems):(this.hasConfirmButton||this.footerTemplate)&&this._doSelect(this._selectedItems[0]||null)},e.prototype.toggleItems=function(e,t){var n=this;if(e){var i=t&&t.length,o=this._groups.reduce(function(e,t){return e.concat(t.items)},[]);this.isMultiple||i||(o=[]),i&&(o=o.filter(function(e){return void 0!==t.find(function(t){return n._getItemValue(e)===n._getItemValue(t)})}),this.isMultiple||o.splice(0,1)),o.forEach(function(e){n._addSelectedItem(e)})}else this._selectedItems=[];this._setItemsToConfirm(this._selectedItems)},e.prototype.scrollToTop=function(){var e=this;return new Promise(function(t,n){e._isOpened?e._modalComponent._content.scrollToTop().then(function(){t()}):n("IonicSelectable content cannot be scrolled.")})},e.prototype.scrollToBottom=function(){var e=this;return new Promise(function(t,n){e._isOpened?e._modalComponent._content.scrollToBottom().then(function(){t()}):n("IonicSelectable content cannot be scrolled.")})},e.prototype.startSearch=function(){this._isEnabled&&this.showLoading()},e.prototype.endSearch=function(){this._isEnabled&&(this.hideLoading(),this._setItems(this.items),this._emitOnSearchSuccessOrFail(this._hasFilteredItems))},e.prototype.enableInfiniteScroll=function(){this._isEnabled&&this._infiniteScroll&&this._infiniteScroll.enable(!0)},e.prototype.disableInfiniteScroll=function(){this._isEnabled&&this._infiniteScroll&&this._infiniteScroll.enable(!1)},e.prototype.endInfiniteScroll=function(){this._isEnabled&&this._infiniteScroll&&(this._infiniteScroll.complete(),this._setItems(this.items))},e.prototype.search=function(e){this._isEnabled&&this._isOpened&&this.canSearch&&(this._searchText=e,this._setHasSearchText(),this._filterItems())},e.prototype.showLoading=function(){this._isEnabled&&(this._isSearching=!0)},e.prototype.hideLoading=function(){this._isEnabled&&(this._isSearching=!1)},e.prototype.showAddItemTemplate=function(){this._toggleAddItemTemplate(!0)},e.prototype.hideAddItemTemplate=function(){this._toggleAddItemTemplate(!1)},e}();IonicSelectableComponent.decorators=[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Component"],args:[{selector:"ionic-selectable",template:'<div class="ionic-selectable-value">\n  <div *ngIf="valueTemplate && _valueItems.length && isMultiple"\n    [ngTemplateOutlet]="valueTemplate"\n    [ngTemplateOutletContext]="{ value: _valueItems }">\n  </div>\n  <div class="ionic-selectable-value-item"\n    *ngIf="valueTemplate && _valueItems.length && !isMultiple">\n    <div [ngTemplateOutlet]="valueTemplate"\n      [ngTemplateOutletContext]="{ value: _valueItems[0] }">\n    </div>\n  </div>\n  <span *ngIf="!valueTemplate && _valueItems.length">\n    <div class="ionic-selectable-value-item"\n      *ngFor="let valueItem of _valueItems">\n      {{_formatValueItem(valueItem)}}\n    </div>\n  </span>\n  <div *ngIf="_hasPlaceholder && placeholderTemplate"\n    class="ionic-selectable-value-item">\n    <div [ngTemplateOutlet]="placeholderTemplate">\n    </div>\n  </div>\n  <div class="ionic-selectable-value-item"\n    *ngIf="_hasPlaceholder && !placeholderTemplate">\n    {{placeholder}}\n  </div>\n</div>\n<div class="ionic-selectable-icon">\n  <div class="ionic-selectable-icon-inner"></div>\n</div>\n<button aria-haspopup="true" ion-button="item-cover" class="item-cover"\n  [disabled]="!isEnabled">\n</button>\n',providers:[{provide:__WEBPACK_IMPORTED_MODULE_2__angular_forms__["c" /* NG_VALUE_ACCESSOR */],useExisting:Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["forwardRef"])(function(){return IonicSelectableComponent}),multi:!0}]}]}],IonicSelectableComponent.ctorParameters=function(){return[{type:__WEBPACK_IMPORTED_MODULE_3_ionic_angular__["l" /* ModalController */]},{type:__WEBPACK_IMPORTED_MODULE_3_ionic_angular__["e" /* Form */]},{type:__WEBPACK_IMPORTED_MODULE_3_ionic_angular__["p" /* Platform */]},{type:__WEBPACK_IMPORTED_MODULE_3_ionic_angular__["j" /* Item */],decorators:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Optional"]}]},{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["IterableDiffers"]},{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["ElementRef"]}]},IonicSelectableComponent.propDecorators={_cssClass:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["HostBinding"],args:["class.ionic-selectable"]}],_isIos:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["HostBinding"],args:["class.ionic-selectable-ios"]}],_isMD:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["HostBinding"],args:["class.ionic-selectable-md"]}],_isMultipleCssClass:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["HostBinding"],args:["class.ionic-selectable-is-multiple"]}],_hasValueCssClass:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["HostBinding"],args:["class.ionic-selectable-has-value"]}],_hasPlaceholderCssClass:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["HostBinding"],args:["class.ionic-selectable-has-placeholder"]}],items:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"]}],itemsChange:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Output"]}],isEnabled:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["HostBinding"],args:["class.ionic-selectable-is-enabled"]},{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"],args:["isEnabled"]}],shouldBackdropClose:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"],args:["shouldBackdropClose"]}],modalCssClass:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"]}],modalEnterAnimation:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"]}],modalLeaveAnimation:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"]}],isConfirmButtonEnabled:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"],args:["isConfirmButtonEnabled"]}],hasConfirmButton:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"],args:["hasConfirmButton"]}],itemValueField:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"]}],itemTextField:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"]}],groupValueField:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"]}],groupTextField:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"]}],canSearch:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"]}],isOnSearchEnabled:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"],args:["isOnSearchEnabled"]}],canClear:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["HostBinding"],args:["class.ionic-selectable-can-clear"]},{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"],args:["canClear"]}],hasInfiniteScroll:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"]}],hasVirtualScroll:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"]}],virtualScrollApproxItemHeight:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"]}],virtualScrollApproxItemWidth:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"]}],virtualScrollBufferRatio:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"]}],virtualScrollHeaderFn:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"]}],searchPlaceholder:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"]}],placeholder:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"]}],isMultiple:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"],args:["isMultiple"]}],searchFailText:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"]}],clearButtonText:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"]}],addButtonText:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"]}],confirmButtonText:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"]}],closeButtonText:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"]}],focusSearchbar:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"]}],headerColor:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"]}],groupColor:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"]}],onChange:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Output"]}],onSearch:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Output"]}],onSearchFail:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Output"]}],onSearchSuccess:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Output"]}],onInfiniteScroll:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Output"]}],onOpen:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Output"]}],onClose:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Output"]}],onSelect:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Output"]}],onClear:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Output"]}],valueTemplate:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["ContentChild"],args:[IonicSelectableValueTemplateDirective,{read:__WEBPACK_IMPORTED_MODULE_1__angular_core__["TemplateRef"]}]}],itemTemplate:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["ContentChild"],args:[IonicSelectableItemTemplateDirective,{read:__WEBPACK_IMPORTED_MODULE_1__angular_core__["TemplateRef"]}]}],itemEndTemplate:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["ContentChild"],args:[IonicSelectableItemEndTemplateDirective,{read:__WEBPACK_IMPORTED_MODULE_1__angular_core__["TemplateRef"]}]}],titleTemplate:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["ContentChild"],args:[IonicSelectableTitleTemplateDirective,{read:__WEBPACK_IMPORTED_MODULE_1__angular_core__["TemplateRef"]}]}],placeholderTemplate:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["ContentChild"],args:[IonicSelectablePlaceholderTemplateDirective,{read:__WEBPACK_IMPORTED_MODULE_1__angular_core__["TemplateRef"]}]}],messageTemplate:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["ContentChild"],args:[IonicSelectableMessageTemplateDirective,{read:__WEBPACK_IMPORTED_MODULE_1__angular_core__["TemplateRef"]}]}],groupTemplate:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["ContentChild"],args:[IonicSelectableGroupTemplateDirective,{read:__WEBPACK_IMPORTED_MODULE_1__angular_core__["TemplateRef"]}]}],groupEndTemplate:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["ContentChild"],args:[IonicSelectableGroupEndTemplateDirective,{read:__WEBPACK_IMPORTED_MODULE_1__angular_core__["TemplateRef"]}]}],closeButtonTemplate:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["ContentChild"],args:[IonicSelectableCloseButtonTemplateDirective,{read:__WEBPACK_IMPORTED_MODULE_1__angular_core__["TemplateRef"]}]}],searchFailTemplate:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["ContentChild"],args:[IonicSelectableSearchFailTemplateDirective,{read:__WEBPACK_IMPORTED_MODULE_1__angular_core__["TemplateRef"]}]}],addItemTemplate:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["ContentChild"],args:[IonicSelectableAddItemTemplateDirective,{read:__WEBPACK_IMPORTED_MODULE_1__angular_core__["TemplateRef"]}]}],footerTemplate:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["ContentChild"],args:[IonicSelectableFooterTemplateDirective,{read:__WEBPACK_IMPORTED_MODULE_1__angular_core__["TemplateRef"]}]}],headerTemplate:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["ContentChild"],args:[IonicSelectableHeaderTemplateDirective,{read:__WEBPACK_IMPORTED_MODULE_1__angular_core__["TemplateRef"]}]}],itemIconTemplate:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["ContentChild"],args:[IonicSelectableItemIconTemplateDirective,{read:__WEBPACK_IMPORTED_MODULE_1__angular_core__["TemplateRef"]}]}],searchDebounce:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"]}],disabledItems:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"]}],shouldStoreItemValue:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"]}],canSaveItem:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"]}],canDeleteItem:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"]}],canAddItem:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"],args:["canAddItem"]}],onSaveItem:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Output"]}],onDeleteItem:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Output"]}],onAddItem:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Output"]}],_click:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["HostListener"],args:["click",["$event"]]}]};var IonicSelectableModalComponent=function(){function e(e,t){var n=this;this.navParams=e,this._element=t,this._cssClass=!0,this.selectComponent=this.navParams.get("selectComponent"),this.selectComponent._modalComponent=this,this.selectComponent._selectedItems=[],this.selectComponent._isNullOrWhiteSpace(this.selectComponent.value)||(this.selectComponent.isMultiple?this.selectComponent.value.forEach(function(e){n.selectComponent._selectedItems.push(e)}):this.selectComponent._selectedItems.push(this.selectComponent.value)),this.selectComponent._setItemsToConfirm(this.selectComponent._selectedItems)}return Object.defineProperty(e.prototype,"_canClearCssClass",{get:function(){return this.selectComponent.canClear},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_isMultipleCssClass",{get:function(){return this.selectComponent.isMultiple},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_isSearchingCssClass",{get:function(){return this.selectComponent._isSearching},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_isAddItemTemplateVisibleCssClass",{get:function(){return this.selectComponent._isAddItemTemplateVisible},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_isIos",{get:function(){return this.selectComponent._isIos},enumerable:!0,configurable:!0}),e.prototype._isMD=function(){return this.selectComponent._isMD},e.prototype.ngAfterViewInit=function(){var e=this;this._header=this._element.nativeElement.querySelector("ion-header"),this._searchbarComponent&&this.selectComponent.focusSearchbar&&setTimeout(function(){e._searchbarComponent.setFocus()},1e3)},e}();IonicSelectableModalComponent.decorators=[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["Component"],args:[{selector:"ionic-selectable-modal",template:'<ion-header>\n  <ion-navbar *ngIf="!selectComponent.headerTemplate"\n    [color]="selectComponent.headerColor ? selectComponent.headerColor : null">\n    <ion-title>\n      \x3c!-- Use span for titleTemplate to preserve Ionic ellipsis styles. --\x3e\n      <span *ngIf="selectComponent.titleTemplate"\n        [ngTemplateOutlet]="selectComponent.titleTemplate">\n      </span>\n      <span *ngIf="!selectComponent.titleTemplate">\n        {{selectComponent.label}}\n      </span>\n    </ion-title>\n    <ion-buttons start>\n      <button ion-button (click)="selectComponent._close()">\n        <span *ngIf="selectComponent.closeButtonTemplate"\n          [ngTemplateOutlet]="selectComponent.closeButtonTemplate">\n        </span>\n        <span *ngIf="!selectComponent.closeButtonTemplate" ion-text\n          showWhen="ios">\n          {{selectComponent.closeButtonText}}\n        </span>\n        <ion-icon *ngIf="!selectComponent.closeButtonTemplate" name="md-close"\n          hideWhen="ios">\n        </ion-icon>\n      </button>\n    </ion-buttons>\n  </ion-navbar>\n  <div *ngIf="selectComponent.headerTemplate"\n    [ngTemplateOutlet]="selectComponent.headerTemplate">\n  </div>\n  <ion-toolbar\n    *ngIf="selectComponent.canSearch || selectComponent.messageTemplate">\n    <ion-searchbar *ngIf="selectComponent.canSearch" #searchbarComponent\n      [(ngModel)]="selectComponent._searchText"\n      (ionInput)="selectComponent._filterItems()"\n      [placeholder]="selectComponent.searchPlaceholder"\n      [debounce]="selectComponent.searchDebounce">\n    </ion-searchbar>\n    <div class="ionic-selectable-message"\n      *ngIf="selectComponent.messageTemplate">\n      <div [ngTemplateOutlet]="selectComponent.messageTemplate">\n      </div>\n    </div>\n  </ion-toolbar>\n</ion-header>\n<ion-content>\n  <div class="ionic-selectable-spinner" *ngIf="selectComponent._isSearching">\n    <div class="ionic-selectable-spinner-background"></div>\n    <ion-spinner></ion-spinner>\n  </div>\n  <ion-list no-margin\n    *ngIf="!selectComponent.hasVirtualScroll && selectComponent._hasFilteredItems">\n    <ion-item-group *ngFor="let group of selectComponent._filteredGroups"\n      class="ionic-selectable-group">\n      <ion-item-divider *ngIf="selectComponent._hasGroups"\n        [color]="selectComponent.groupColor ? selectComponent.groupColor : null">\n        \x3c!-- Use span for groupTemplate to preserve Ionic ellipsis styles. --\x3e\n        <span *ngIf="selectComponent.groupTemplate"\n          [ngTemplateOutlet]="selectComponent.groupTemplate"\n          [ngTemplateOutletContext]="{ group: group }">\n        </span>\n        <span *ngIf="!selectComponent.groupTemplate">\n          {{group.text}}\n        </span>\n        <div *ngIf="selectComponent.groupEndTemplate" item-right>\n          <div [ngTemplateOutlet]="selectComponent.groupEndTemplate"\n            [ngTemplateOutletContext]="{ group: group }">\n          </div>\n        </div>\n      </ion-item-divider>\n      <button ion-item detail-none *ngFor="let item of group.items"\n        (click)="selectComponent._select(item)" class="ionic-selectable-item"\n        [ngClass]="{\n          \'ionic-selectable-item-is-selected\': selectComponent._isItemSelected(item),\n          \'ionic-selectable-item-is-disabled\': selectComponent._isItemDisabled(item)\n        }" [disabled]="selectComponent._isItemDisabled(item)">\n        \x3c!-- Use span for itemTemplate to preserve Ionic ellipsis styles. --\x3e\n        <span *ngIf="selectComponent.itemTemplate"\n          [ngTemplateOutlet]="selectComponent.itemTemplate"\n          [ngTemplateOutletContext]="{ item: item, isItemSelected: selectComponent._isItemSelected(item) }">\n        </span>\n        <span *ngIf="!selectComponent.itemTemplate">\n          {{selectComponent._formatItem(item)}}\n        </span>\n        <div *ngIf="selectComponent.itemEndTemplate" item-right>\n          <div [ngTemplateOutlet]="selectComponent.itemEndTemplate"\n            [ngTemplateOutletContext]="{ item: item, isItemSelected: selectComponent._isItemSelected(item) }">\n          </div>\n        </div>\n        <span *ngIf="selectComponent.itemIconTemplate" item-left\n          class="ionic-selectable-item-icon-template"\n          [ngTemplateOutlet]="selectComponent.itemIconTemplate"\n          [ngTemplateOutletContext]="{ item: item, isItemSelected: selectComponent._isItemSelected(item) }">\n        </span>\n        <ion-icon *ngIf="!selectComponent.itemIconTemplate"\n          [name]="selectComponent._isItemSelected(item) ? \'checkmark-circle\' : \'radio-button-off\'"\n          [color]="selectComponent._isItemSelected(item) ? \'primary\' : \'daek\'"\n          item-left>\n        </ion-icon>\n        <button *ngIf="selectComponent.canSaveItem"\n          class="ionic-selectable-item-button" ion-button icon-only item-end\n          outline (click)="selectComponent._saveItem($event, item)">\n          <ion-icon name="md-create"></ion-icon>\n        </button>\n        <button *ngIf="selectComponent.canDeleteItem"\n          class="ionic-selectable-item-button" ion-button icon-only item-end\n          outline (click)="selectComponent._deleteItemClick($event, item)">\n          <ion-icon name="md-trash"></ion-icon>\n        </button>\n      </button>\n    </ion-item-group>\n  </ion-list>\n  \x3c!-- Fail text should be above InfiniteScroll to avoid a gap when no items are found. --\x3e\n  <div *ngIf="!selectComponent._hasFilteredItems">\n    <span *ngIf="selectComponent.searchFailTemplate"\n      [ngTemplateOutlet]="selectComponent.searchFailTemplate">\n    </span>\n    <div *ngIf="!selectComponent.searchFailTemplate" margin>\n      {{selectComponent.searchFailText}}\n    </div>\n  </div>\n  <ion-infinite-scroll *ngIf="!selectComponent.hasVirtualScroll"\n    [enabled]="selectComponent.hasInfiniteScroll"\n    (ionInfinite)="selectComponent._getMoreItems($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n  <ion-list no-margin\n    *ngIf="selectComponent.hasVirtualScroll && selectComponent._hasFilteredItems"\n    [virtualScroll]="selectComponent._filteredGroups[0].items"\n    [approxItemHeight]="selectComponent.virtualScrollApproxItemHeight"\n    [approxItemWidth]="selectComponent.virtualScrollApproxItemWidth"\n    [bufferRatio]="selectComponent.virtualScrollBufferRatio"\n    [headerFn]="selectComponent.virtualScrollHeaderFn">\n    <ion-item-divider *virtualHeader="let header"\n      [color]="selectComponent.groupColor ? selectComponent.groupColor : null">\n      {{header}}\n    </ion-item-divider>\n    <button ion-item detail-none *virtualItem="let item"\n      (click)="selectComponent._select(item)" class="ionic-selectable-item"\n      [ngClass]="{\n        \'ionic-selectable-item-is-selected\': selectComponent._isItemSelected(item),\n        \'ionic-selectable-item-is-disabled\': selectComponent._isItemDisabled(item)\n      }" [disabled]="selectComponent._isItemDisabled(item)">\n      \x3c!-- Use span for itemTemplate to preserve Ionic ellipsis styles. --\x3e\n      <span *ngIf="selectComponent.itemTemplate"\n        [ngTemplateOutlet]="selectComponent.itemTemplate"\n        [ngTemplateOutletContext]="{ item: item, isItemSelected: selectComponent._isItemSelected(item) }">\n      </span>\n      <span *ngIf="!selectComponent.itemTemplate">\n        {{selectComponent._formatItem(item)}}\n      </span>\n      <div *ngIf="selectComponent.itemEndTemplate" item-right>\n        <div [ngTemplateOutlet]="selectComponent.itemEndTemplate"\n          [ngTemplateOutletContext]="{ item: item, isItemSelected: selectComponent._isItemSelected(item) }">\n        </div>\n      </div>\n      <span *ngIf="selectComponent.itemIconTemplate" item-left\n        class="ionic-selectable-item-icon-template"\n        [ngTemplateOutlet]="selectComponent.itemIconTemplate"\n        [ngTemplateOutletContext]="{ item: item, isItemSelected: selectComponent._isItemSelected(item) }">\n      </span>\n      <ion-icon *ngIf="!selectComponent.itemIconTemplate"\n        [name]="selectComponent._isItemSelected(item) ? \'checkmark-circle\' : \'radio-button-off\'"\n        [color]="selectComponent._isItemSelected(item) ? \'primary\' : \'daek\'"\n        item-left>\n      </ion-icon>\n      <button *ngIf="selectComponent.canSaveItem"\n        class="ionic-selectable-item-button" ion-button icon-only item-end\n        outline (click)="selectComponent._saveItem($event, item)">\n        <ion-icon name="md-create"></ion-icon>\n      </button>\n      <button *ngIf="selectComponent.canDeleteItem"\n        class="ionic-selectable-item-button" ion-button icon-only item-end\n        outline (click)="selectComponent._deleteItemClick($event, item)">\n        <ion-icon name="md-trash"></ion-icon>\n      </button>\n    </button>\n  </ion-list>\n</ion-content>\n<div class="ionic-selectable-add-item-template"\n  *ngIf="selectComponent._isAddItemTemplateVisible"\n  [ngStyle]="{ \'top.px\': _header.offsetHeight }">\n  <span [ngTemplateOutlet]="selectComponent.addItemTemplate"\n    [ngTemplateOutletContext]="{ item: selectComponent._itemToAdd, isAdd: selectComponent._itemToAdd === null }">\n  </span>\n</div>\n<ion-footer\n  *ngIf="selectComponent._footerButtonsCount > 0 || selectComponent.footerTemplate"\n  [ngStyle]="{ \'visibility\': selectComponent._isFooterVisible ? \'initial\' : \'hidden\' }">\n  <ion-toolbar *ngIf="!selectComponent.footerTemplate">\n    <ion-row>\n      <ion-col *ngIf="selectComponent.canClear">\n        <button ion-button full no-margin (click)="selectComponent._clear()"\n          [disabled]="!selectComponent._selectedItems.length">\n          {{selectComponent.clearButtonText}}\n        </button>\n      </ion-col>\n      <ion-col *ngIf="selectComponent.canAddItem">\n        <button ion-button full no-margin\n          (click)="selectComponent._addItemClick()">\n          {{selectComponent.addButtonText}}\n        </button>\n      </ion-col>\n      <ion-col\n        *ngIf="selectComponent.isMultiple || selectComponent.hasConfirmButton">\n        <button ion-button full no-margin (click)="selectComponent._confirm()"\n          [disabled]="!selectComponent.isConfirmButtonEnabled">\n          {{selectComponent.confirmButtonText}}\n        </button>\n      </ion-col>\n    </ion-row>\n  </ion-toolbar>\n  <div *ngIf="selectComponent.footerTemplate"\n    [ngTemplateOutlet]="selectComponent.footerTemplate">\n  </div>\n</ion-footer>\n'}]}],IonicSelectableModalComponent.ctorParameters=function(){return[{type:__WEBPACK_IMPORTED_MODULE_3_ionic_angular__["o" /* NavParams */]},{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["ElementRef"]}]},IonicSelectableModalComponent.propDecorators={_cssClass:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["HostBinding"],args:["class.ionic-selectable-modal"]}],_canClearCssClass:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["HostBinding"],args:["class.ionic-selectable-modal-can-clear"]}],_isMultipleCssClass:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["HostBinding"],args:["class.ionic-selectable-modal-is-multiple"]}],_isSearchingCssClass:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["HostBinding"],args:["class.ionic-selectable-modal-is-searching"]}],_isAddItemTemplateVisibleCssClass:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["HostBinding"],args:["class.ionic-selectable-modal-is-add-item-template-visible"]}],_isIos:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["HostBinding"],args:["class.ionic-selectable-modal-ios"]}],_isMD:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["HostBinding"],args:["class.ionic-selectable-modal-md"]}],_searchbarComponent:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["ViewChild"],args:["searchbarComponent"]}],_content:[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["ViewChild"],args:[__WEBPACK_IMPORTED_MODULE_3_ionic_angular__["c" /* Content */]]}]};var components=[IonicSelectableComponent,IonicSelectableModalComponent],directives=[IonicSelectableValueTemplateDirective,IonicSelectableItemTemplateDirective,IonicSelectableItemEndTemplateDirective,IonicSelectableTitleTemplateDirective,IonicSelectablePlaceholderTemplateDirective,IonicSelectableMessageTemplateDirective,IonicSelectableGroupTemplateDirective,IonicSelectableGroupEndTemplateDirective,IonicSelectableCloseButtonTemplateDirective,IonicSelectableSearchFailTemplateDirective,IonicSelectableAddItemTemplateDirective,IonicSelectableFooterTemplateDirective,IonicSelectableHeaderTemplateDirective,IonicSelectableItemIconTemplateDirective],IonicSelectableModule=function(){return function(){}}();IonicSelectableModule.decorators=[{type:__WEBPACK_IMPORTED_MODULE_1__angular_core__["NgModule"],args:[{imports:[__WEBPACK_IMPORTED_MODULE_5__angular_common__["b" /* CommonModule */],__WEBPACK_IMPORTED_MODULE_3_ionic_angular__["i" /* IonicPageModule */].forChild(IonicSelectableComponent),__WEBPACK_IMPORTED_MODULE_3_ionic_angular__["i" /* IonicPageModule */].forChild(IonicSelectableModalComponent)],declarations:Object(__WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __spread */])(components,directives),exports:Object(__WEBPACK_IMPORTED_MODULE_0_tslib__["c" /* __spread */])(components,directives),entryComponents:components}]}],IonicSelectableModule.ctorParameters=function(){return[]};

/***/ }),

/***/ 922:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return VisitAddSitePage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(49);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_common_utility_common_utility__ = __webpack_require__(91);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__domain_geofence__ = __webpack_require__(923);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_database_database__ = __webpack_require__(92);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




// import { IonicSelectableComponent } from "ionic-selectable";

/**
 * Generated class for the AddGeofencingPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var VisitAddSitePage = /** @class */ (function () {
    function VisitAddSitePage(navCtrl, navParams, view, modal, commonUtility, databaseProvider) {
        var _this = this;
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.view = view;
        this.modal = modal;
        this.commonUtility = commonUtility;
        this.databaseProvider = databaseProvider;
        this.isCustomerLocation = true;
        this.customersList = [];
        this.selectedCustomer = {};
        this.geoFenceData = this.navParams.get('modalData');
        this.isAddOperation = this.navParams.get('isAddOperation');
        console.log('Received GeoFence Data = ' + JSON.stringify(this.geoFenceData));
        if (null == this.geoFenceData) {
            this.geoFenceData = new __WEBPACK_IMPORTED_MODULE_3__domain_geofence__["a" /* GeoFence */]();
            this.intializeCustomerData();
        }
        else {
            this.selectedCustomerDetails = {
                cardCode: this.geoFenceData.cardCode,
                cardName: this.geoFenceData.geofenceName
            };
        }
        this.databaseProvider.getCustomerData()
            .subscribe(function (res) {
            if (res.rows.length > 0) {
                console.log('CustData = ' + res.rows.item(0).data);
                var parsedcustomersList = JSON.parse(res.rows.item(0).data);
                parsedcustomersList.forEach(function (parsedCustomer) {
                    // console.log('Customer Details = ' + JSON.stringify(parsedCustomer.customerDetails));
                    if (parsedCustomer.customerDetails.cardCode != null
                        && parsedCustomer.customerDetails.cardCode != ''
                        && parsedCustomer.customerDetails.cardName != null
                        && parsedCustomer.customerDetails.cardName != '') {
                        _this.customersList.push({
                            cardCode: parsedCustomer.customerDetails.cardCode,
                            cardName: parsedCustomer.customerDetails.cardName
                        });
                    }
                });
                // console.log('customersList = ' + JSON.stringify(this.customersList))
            }
        });
    }
    VisitAddSitePage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad AddGeofencingPage');
    };
    VisitAddSitePage.prototype.dismissModal = function () {
        var modalData = {
            isAdded: false,
            geoFenceData: null
        };
        this.view.dismiss(modalData);
    };
    VisitAddSitePage.prototype.save = function () {
        console.log('Updated GeoFence Data = ' + JSON.stringify(this.geoFenceData));
        if (this.geoFenceData) {
            if (this.geoFenceData.latitude == 0 || this.geoFenceData.latitude == undefined
                || this.geoFenceData.longitude == 0 || this.geoFenceData.longitude == undefined
                || this.geoFenceData.geofenceAddr == '' || this.geoFenceData.geofenceAddr == undefined) {
                this.commonUtility.presentToast('Address Cannot be detected at the moment. Please try again.', 5000);
            }
            else if (this.selectedCustomerDetails.cardName == '') {
                this.commonUtility.presentToast('Please Specify Visit Site Name', 5000);
            }
            else {
                this.geoFenceData.geofenceName = this.selectedCustomerDetails.cardName;
                if (this.isCustomerLocation)
                    this.geoFenceData.cardCode = this.selectedCustomerDetails.cardCode;
                var modalData = {
                    isAdded: true,
                    geoFenceData: this.geoFenceData
                };
                console.log('Sending GeoFence Data = ' + JSON.stringify(modalData.geoFenceData));
                this.view.dismiss(modalData);
            }
        }
    };
    VisitAddSitePage.prototype.updateAddress = function () {
        var _this = this;
        console.log('updateAddress() called');
        var addressToSend = this.geoFenceData.geofenceAddr == null ? '' : this.geoFenceData.geofenceAddr;
        var latitudeToSend = this.geoFenceData.latitude == undefined || this.geoFenceData.latitude == null ? 0 : this.geoFenceData.latitude;
        var longitudeToSend = this.geoFenceData.longitude == undefined || this.geoFenceData.longitude == null ? 0 : this.geoFenceData.longitude;
        console.log('address = ' + addressToSend + ', latitudeToSend = ' + latitudeToSend + ', longitudeToSend = ' + longitudeToSend);
        var addressModal = this.modal.create('PlaceaddressPage', {
            address: addressToSend,
            latitude: latitudeToSend,
            longitude: longitudeToSend
        });
        addressModal.present();
        addressModal.onDidDismiss(function (data) {
            console.log(data);
            if (data.isAdded) {
                _this.geoFenceData.geofenceAddr = data.address;
                _this.geoFenceData.latitude = data.latitude;
                _this.geoFenceData.longitude = data.longitude;
            }
        });
    };
    VisitAddSitePage.prototype.onChangeHandler = function (event) {
        console.log('Event Generated = ' + event);
        if (event == 'customer')
            this.isCustomerLocation = true;
        else if (event == 'other')
            this.isCustomerLocation = false;
        this.intializeCustomerData();
    };
    // showSelectedCustomer(event: {
    //   component: IonicSelectableComponent,
    //   value: any
    // }) {
    VisitAddSitePage.prototype.showSelectedCustomer = function (event) {
        console.log('selectedCustomer = ', JSON.stringify(event.value));
        if (event.value) {
            console.log('Updating values');
            var selectedCustomer = event.value;
            this.selectedCustomerDetails.cardName = selectedCustomer.cardName;
            this.selectedCustomerDetails.cardCode = selectedCustomer.cardCode;
        }
    };
    VisitAddSitePage.prototype.intializeCustomerData = function () {
        console.log('Clearing Customer Data');
        this.selectedCustomerDetails = {
            cardCode: '',
            cardName: ''
        };
    };
    VisitAddSitePage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'visit-add-site',template:/*ion-inline-start:"/Users/dipakjain/Ionic Projects/sapbasemodule/src/pages/visit-add-site/visit-add-site.html"*/'<!--\n  Generated template for the VisitAddSitePage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<ion-header>\n  <ion-navbar color="navbar">\n    <ion-title text-center>Add Visit Site</ion-title>\n  </ion-navbar>\n</ion-header>\n\n<ion-content padding>\n\n  <!-- <ion-row>\n    <ion-col col-12>\n      <ion-list (ionChange)="onChangeHandler($event)" radio-group>\n        <ion-row>\n          <ion-col col-1>\n            <ion-radio value="customer" checked></ion-radio>\n          </ion-col>\n          <ion-col col-5>\n            <ion-label>Customer Site</ion-label>\n          </ion-col>\n          <ion-col col-1>\n            <ion-radio value="other"></ion-radio>\n          </ion-col>\n          <ion-col col-5>\n            <ion-label>Other Site</ion-label>\n          </ion-col>\n        </ion-row>\n      </ion-list>\n    </ion-col>\n  </ion-row> -->\n\n  <ion-row *ngIf="!isCustomerLocation">\n    <ion-col col-12>\n      <ion-item class="pj-card-floating-label">\n        <ion-label floating>Location Name*</ion-label>\n        <ion-input type="text" [(ngModel)]="selectedCustomerDetails.cardName"></ion-input>\n      </ion-item>\n    </ion-col>\n  </ion-row>\n\n  <ion-row *ngIf="isCustomerLocation">\n    <ion-col col-12>\n      <ion-item>\n        <ion-label>Customer*</ion-label>\n        <ionic-selectable item-content [canSearch]="true" name="itemSelected" [(ngModel)]="selectedCustomerDetails"\n          [items]="customersList" itemValueField="cardCode" itemTextField="cardName" [ngModelOptions]="{standalone : true}"\n          (onChange)="showSelectedCustomer($event)">\n        </ionic-selectable>\n      </ion-item>\n    </ion-col>\n  </ion-row>\n\n  <ion-row>\n    <ion-col col-12>\n      <ion-item class="pj-card-floating-label">\n        <ion-label floating>Address*</ion-label>\n        <ion-input type="text" [(ngModel)]="geoFenceData.geofenceAddr" [readonly]="true" (click)="updateAddress()"></ion-input>\n      </ion-item>\n    </ion-col>\n  </ion-row>\n\n  <ion-row>\n    <ion-col col-6>\n      <button ion-button class="pj-button-danger" type="button" (click)="dismissModal()">CANCEL</button>\n    </ion-col>\n    <ion-col col-6>\n      <button ion-button class="pj-button" type="submit" (click)="save()">SAVE</button>\n    </ion-col>\n  </ion-row>\n  <!--</form>-->\n\n</ion-content>'/*ion-inline-end:"/Users/dipakjain/Ionic Projects/sapbasemodule/src/pages/visit-add-site/visit-add-site.html"*/,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* NavController */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["o" /* NavParams */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ViewController */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["l" /* ModalController */],
            __WEBPACK_IMPORTED_MODULE_2__providers_common_utility_common_utility__["a" /* CommonUtilityProvider */],
            __WEBPACK_IMPORTED_MODULE_4__providers_database_database__["a" /* DatabaseProvider */]])
    ], VisitAddSitePage);
    return VisitAddSitePage;
}());

//# sourceMappingURL=visit-add-site.js.map

/***/ }),

/***/ 923:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GeoFence; });
var GeoFence = /** @class */ (function () {
    function GeoFence() {
    }
    GeoFence.prototype.GeoFence = function () {
        this.geofencingDtlsId = 0;
        this.geofenceName = '';
        this.latitude = 0;
        this.latitude = 0;
        this.geofenceArea = '';
        this.geofenceAddr = '';
        this.isActive = 1;
        this.transitionType = '3';
        this.cardCode = '';
    };
    return GeoFence;
}());

//# sourceMappingURL=domain-geofence.js.map

/***/ })

});
//# sourceMappingURL=2.js.map